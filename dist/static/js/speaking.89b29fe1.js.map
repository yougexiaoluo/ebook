{"version":3,"sources":["webpack:///./src/components/speak/SpeakMask.vue?beea","webpack:///./src/components/detail/DetaiTitle.vue?9ef0","webpack:///src/components/detail/DetaiTitle.vue","webpack:///./src/components/detail/DetaiTitle.vue?cd0e","webpack:///./src/components/detail/DetaiTitle.vue","webpack:///./src/components/detail/DetaiTitle.vue?afb5","webpack:///./src/components/speak/SpeakPlaying.vue?4cae","webpack:///./src/components/speak/SpeakBottom.vue?9c9c","webpack:///src/components/speak/SpeakBottom.vue","webpack:///./src/components/speak/SpeakBottom.vue?1361","webpack:///./src/components/speak/SpeakBottom.vue","webpack:///./src/components/common/Scroll.vue?19d8","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/views/store/StoreSpeaking.vue?1d8b","webpack:///./src/components/detail/BookInfo.vue?4339","webpack:///./src/components/speak/SpeakMask.vue?c9e1","webpack:///src/components/speak/SpeakMask.vue","webpack:///./src/components/speak/SpeakMask.vue?1b72","webpack:///./src/components/speak/SpeakMask.vue","webpack:///./src/components/common/Scroll.vue?196b","webpack:///src/components/common/Scroll.vue","webpack:///./src/components/common/Scroll.vue?b082","webpack:///./src/components/common/Scroll.vue","webpack:///./src/components/speak/SpeakBottom.vue?84dd","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///src/views/store/StoreSpeaking.vue","webpack:///./src/components/detail/BookInfo.vue?d65a","webpack:///src/components/detail/BookInfo.vue","webpack:///./src/components/detail/BookInfo.vue?08d9","webpack:///./src/components/detail/BookInfo.vue","webpack:///./src/components/speak/SpeakPlaying.vue?5f91","webpack:///src/components/speak/SpeakPlaying.vue","webpack:///./src/components/speak/SpeakPlaying.vue?4c13","webpack:///./src/components/speak/SpeakPlaying.vue","webpack:///./src/views/store/StoreSpeaking.vue?e6bd","webpack:///./src/views/store/StoreSpeaking.vue?684a","webpack:///./src/views/store/StoreSpeaking.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakMask_vue_vue_type_style_index_0_id_702e0268_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakMask_vue_vue_type_style_index_0_id_702e0268_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","hide-shadow","ifHideShadow","on","click","back","showBookShelf","_v","_s","title","_e","staticRenderFns","DetaiTitlevue_type_script_lang_js_","props","String","showShelf","type","Boolean","default","data","methods","$router","push","showShadow","hideShadow","$emit","detail_DetaiTitlevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DetaiTitle_vue_vue_type_style_index_0_id_2860a4b8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DetaiTitle_vue_vue_type_style_index_0_id_2860a4b8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakPlaying_vue_vue_type_style_index_0_id_4f2041d6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakPlaying_vue_vue_type_style_index_0_id_4f2041d6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","hide-play","showPlay","$event","stopPropagation","preventDefault","onPlayingCardClick","togglePlay","isPlaying","chapter","label","currentSectionIndex","currentSectionTotal","playInfo","currentMinute","currentSecond","totalMinute","totalSecond","addOrRemoveShelf","inBookShelf","bookItem","$t","SpeakBottomvue_type_script_lang_js_","mixins","ebookMixin","Number","$parent","speak_SpeakBottomvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Scroll_vue_vue_type_style_index_0_id_7d272252_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Scroll_vue_vue_type_style_index_0_id_7d272252_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","flags","f","RegExp","prototype","configurable","get","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StoreSpeaking_vue_vue_type_style_index_0_id_2a77a8da_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StoreSpeaking_vue_vue_type_style_index_0_id_2a77a8da_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BookInfo_vue_vue_type_style_index_0_id_62ea490c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BookInfo_vue_vue_type_style_index_0_id_62ea490c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","attrs","name","directives","rawName","value","expression","hide","ref","max","min","step","domProps","progress","change","onProgressChange","target","input","onProgressInput","leftMinute","leftSecond","not-use","prev","next","id","SpeakMaskvue_type_script_lang_js_","book","section","visible","speakCardVisible","readHeight","refreshProgress","p","$refs","style","backgroundSize","concat","updateText","promise","_this","then","currentPage","rendition","currentLocation","cfibase","cfiBase","cfistart","start","cfi","replace","cfiend","end","getRange","range","text","toString","_this2","resetPlay","setTimeout","_this3","display","displayed","href","renderTo","width","window","innerWidth","height","method","show","_this4","refresh","$nextTick","innerHeight","utils","bookWrapper","speak_SpeakMaskvue_type_script_lang_js_","no-scroll","ifNoScroll","&scroll","handleScroll","_t","Scrollvue_type_script_lang_js_","top","bottom","initPosition","x","y","e","offsetY","scrollTop","pageYOffset","document","body","scrollTo","scrollWrapper","addEventListener","mounted","common_Scrollvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakBottom_vue_vue_type_style_index_0_id_c4743b9a_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SpeakBottom_vue_vue_type_style_index_0_id_c4743b9a_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","anObject","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","call","source","R","undefined","global","ePub","epubjs__WEBPACK_IMPORTED_MODULE_12__","components","DetailTitle","_components_detail_DetaiTitle__WEBPACK_IMPORTED_MODULE_2__","BookInfo","_components_detail_BookInfo__WEBPACK_IMPORTED_MODULE_3__","Scroll","_components_common_Scroll__WEBPACK_IMPORTED_MODULE_4__","SpeakPlaying","_components_speak_SpeakPlaying__WEBPACK_IMPORTED_MODULE_5__","Bottom","_components_speak_SpeakBottom__WEBPACK_IMPORTED_MODULE_6__","SpeakWindow","_components_speak_SpeakMask__WEBPACK_IMPORTED_MODULE_7__","computed","m","Math","floor","currentPlayingTime","s","parseInt","totalPlayingTime","audioCanPlay","lang","metadata","language","disableScroll","speakWindow","playingIndex","scrollBottom","flatNavigation","desc","description","substring","navigation","Array","apply","doFlatNavigation","toc","category","_utils_store__WEBPACK_IMPORTED_MODULE_8__","author","creator","cover","ifShowContent","paragraph","audio","playStatus","toastText","isOnline","createVoice","xhr","XMLHttpRequest","open","toLowerCase","send","resText","responseText","json","JSON","parse","path","src","continuePlay","showToast","pausePlay","play","speak","item","index","scroll","spine","page","total","toLocaleString","speakPlaying","startAnimation","pause","stopAnimation","onAudioEnded","currentTime","percent","onTimeUpdate","onCanPlay","duration","findBookFromList","fileName","_api_store__WEBPACK_IMPORTED_MODULE_9__","response","status","bookList","filter","length","init","$route","query","_utils_localForage__WEBPACK_IMPORTED_MODULE_10__","err","blob","opf","parseBook","downloadBook","_this5","_this6","loaded","coverUrl","url","archive","createUrl","nav","go","onScroll","_utils_utils__WEBPACK_IMPORTED_MODULE_11__","toggleContent","content","_this7","deep","arguments","arr","forEach","subitems","simpleToast","BookInfovue_type_script_lang_js_","detail_BookInfovue_type_script_lang_js_","_l","key","refInFor","SpeakPlayingvue_type_script_lang_js_","number","styles","i","random","task","setInterval","playingItem","clearInterval","ceil","speak_SpeakPlayingvue_type_script_lang_js_","icon-down2","icon-up","is-playing","canplay","timeupdate","ended","update:isPlaying","update:is-playing","_m","update:currentSectionIndex","update:current-section-index","store_StoreSpeakingvue_type_script_lang_js_","StoreSpeakingvue_type_script_lang_js_"],"mappings":"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","file":"static/js/speaking.89b29fe1.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=style&index=0&id=702e0268&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=style&index=0&id=702e0268&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-title-wrapper\",class:{'hide-shadow': _vm.ifHideShadow}},[_c('div',{staticClass:\"title-left-wrapper\",on:{\"click\":_vm.back}},[_c('span',{staticClass:\"icon-back\"})]),_c('div',{staticClass:\"title-right-wrapper\"},[(_vm.showShelf)?_c('span',{staticClass:\"icon-shelf icon\",on:{\"click\":_vm.showBookShelf}}):_c('span',{staticClass:\"icon-share\"})]),(_vm.title)?_c('div',{staticClass:\"title-text\"},[_vm._v(\"\\n    \"+_vm._s(_vm.title)+\"\\n  \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"detail-title-wrapper\" :class=\"{'hide-shadow': ifHideShadow}\">\r\n    <div class=\"title-left-wrapper\" @click=\"back\">\r\n      <span class=\"icon-back\"></span>\r\n    </div>\r\n    <div class=\"title-right-wrapper\">\r\n      <span class=\"icon-shelf icon\" v-if=\"showShelf\" @click=\"showBookShelf\"></span>\r\n      <span class=\"icon-share\" v-else></span>\r\n    </div>\r\n    <div class=\"title-text\" v-if=\"title\">\r\n      {{ title }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      title: String,\r\n      showShelf: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        ifHideShadow: true\r\n      }\r\n    },\r\n    methods: {\r\n      showBookShelf () {\r\n        this.$router.push('/store/shelf')\r\n      },\r\n      showShadow () {\r\n        this.ifHideShadow = false\r\n      },\r\n      hideShadow () {\r\n        this.ifHideShadow = true\r\n      },\r\n      back () {\r\n        this.$emit('back')\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/styles/scss/global.scss\";\r\n\r\n  .detail-title-wrapper {\r\n    position: relative;\r\n    display: flex;\r\n    width: 100%;\r\n    height: px2rem(42);\r\n    box-shadow: 0 px2rem(2) px2rem(2) 0 rgba(0, 0, 0, .1);\r\n    font-size: px2rem(20);\r\n    color: #666;\r\n    &.hide-shadow {\r\n      box-shadow: none;\r\n    }\r\n    .title-left-wrapper {\r\n      position: relative;\r\n      z-index: 200;\r\n      flex: 1;\r\n      margin-left: px2rem(15);\r\n      @include left;\r\n    }\r\n    .title-right-wrapper {\r\n      position: relative;\r\n      z-index: 200;\r\n      flex: 1;\r\n      margin-right: px2rem(15);\r\n      @include right;\r\n    }\r\n    .title-text {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 100;\r\n      width: 100%;\r\n      height: px2rem(42);\r\n      font-size: px2rem(16);\r\n      color: #333;\r\n      @include center;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetaiTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetaiTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetaiTitle.vue?vue&type=template&id=2860a4b8&scoped=true&\"\nimport script from \"./DetaiTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./DetaiTitle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetaiTitle.vue?vue&type=style&index=0&id=2860a4b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2860a4b8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetaiTitle.vue?vue&type=style&index=0&id=2860a4b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetaiTitle.vue?vue&type=style&index=0&id=2860a4b8&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=style&index=0&id=4f2041d6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=style&index=0&id=4f2041d6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom-wrapper\",class:{'hide-play': !_vm.showPlay}},[(_vm.showPlay)?_c('div',{staticClass:\"bottom-playing-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onPlayingCardClick($event)}}},[_c('div',{staticClass:\"bottom-playing-left\"},[_c('div',{staticClass:\"icon-play-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlay($event)}}},[(!_vm.isPlaying)?_c('span',{staticClass:\"icon-play_go\"}):_c('span',{staticClass:\"icon-play_pause\"})])]),_c('div',{staticClass:\"bottom-playing-right\"},[_c('div',{staticClass:\"bottom-playing-chapter-text\"},[_c('span',{staticClass:\"chapter-label\"},[_vm._v(_vm._s(_vm.chapter ? _vm.chapter.label : ''))]),(_vm.currentSectionIndex && _vm.currentSectionTotal)?_c('span',{staticClass:\"bottom-playing-page-text\"},[_vm._v(\"\\n          ( \"+_vm._s(_vm.currentSectionIndex)+\" / \"+_vm._s(_vm.currentSectionTotal)+\" )\\n        \")]):_vm._e()]),_c('div',{staticClass:\"bottom-playing-page-text\"},[_vm._v(\"\\n        \"+_vm._s(_vm.playInfo ? _vm.playInfo.currentMinute : '00')+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.currentSecond : '00')+\" / \"+_vm._s(_vm.playInfo ? _vm.playInfo.totalMinute : '00')+\":\"+_vm._s(_vm.playInfo ? _vm.playInfo.totalSecond : '00')+\"\\n      \")])])]):_vm._e(),_c('div',{staticClass:\"bottom-btn-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addOrRemoveShelf($event)}}},[(_vm.inBookShelf(_vm.bookItem))?_c('span',{staticClass:\"icon-check\"}):_vm._e(),_c('span',{staticClass:\"bottom-btn-text\"},[_vm._v(\"\\n      \"+_vm._s(_vm.inBookShelf(_vm.bookItem) ? _vm.$t('detail.isAddedToShelf') : _vm.$t('detail.addOrRemoveShelf'))+\"\\n    \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bottom-wrapper\" :class=\"{'hide-play': !showPlay}\">\r\n    <div class=\"bottom-playing-wrapper\"\r\n         @click.stop.prevent=\"onPlayingCardClick\"\r\n         v-if=\"showPlay\">\r\n      <div class=\"bottom-playing-left\">\r\n        <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\r\n          <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\r\n          <span class=\"icon-play_pause\" v-else></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"bottom-playing-right\">\r\n        <div class=\"bottom-playing-chapter-text\">\r\n          <span class=\"chapter-label\">{{chapter ? chapter.label : ''}}</span>\r\n          <span class=\"bottom-playing-page-text\" v-if=\"currentSectionIndex && currentSectionTotal\">\r\n            ( {{currentSectionIndex}} / {{currentSectionTotal}} )\r\n          </span>\r\n        </div>\r\n        <div class=\"bottom-playing-page-text\">\r\n          {{playInfo ? playInfo.currentMinute : '00'}}:{{playInfo ? playInfo.currentSecond : '00'}} / {{playInfo ? playInfo.totalMinute : '00'}}:{{playInfo ? playInfo.totalSecond : '00'}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom-btn-wrapper\" @click.stop.prevent=\"addOrRemoveShelf\">\r\n      <span class=\"icon-check\" v-if=\"inBookShelf(bookItem)\"></span>\r\n      <span class=\"bottom-btn-text\">\r\n        {{inBookShelf(bookItem) ? $t('detail.isAddedToShelf') : $t('detail.addOrRemoveShelf')}}\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { storeShelfMixin } from '@/utils/mixin/ebookMixin'\r\n\r\n  export default {\r\n    mixins: [storeShelfMixin],\r\n    props: {\r\n      chapter: Object,\r\n      currentSectionIndex: Number,\r\n      currentSectionTotal: Number,\r\n      showPlay: Boolean,\r\n      isPlaying: Boolean,\r\n      playInfo: Object,\r\n      bookItem: Object\r\n    },\r\n    methods: {\r\n      togglePlay () {\r\n        this.$parent.togglePlay()\r\n      },\r\n      onPlayingCardClick () {\r\n        this.$emit('onPlayingCardClick')\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n  @import \"@/assets/styles/scss/global.scss\";\r\n\r\n  .bottom-wrapper {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 110;\r\n    width: 100%;\r\n    height: px2rem(116);\r\n    background: white;\r\n    box-shadow: 0 px2rem(-2) px2rem(2) 0 rgba(0, 0, 0, .1);\r\n    &.hide-play {\r\n      height: px2rem(52);\r\n    }\r\n    .bottom-playing-wrapper {\r\n      display: flex;\r\n      width: 100%;\r\n      height: px2rem(64);\r\n      .bottom-playing-left {\r\n        flex: 0 0 px2rem(70);\r\n        width: px2rem(70);\r\n        @include center;\r\n        .icon-play-wrapper {\r\n          flex: 0 0 px2rem(100);\r\n          @include center;\r\n          &:active {\r\n            opacity: .5;\r\n          }\r\n          .icon-play_go {\r\n            font-size: px2rem(40);\r\n            color: $color-blue;\r\n          }\r\n          .icon-play_pause {\r\n            font-size: px2rem(40);\r\n            color: $color-blue;\r\n          }\r\n        }\r\n      }\r\n      .bottom-playing-right {\r\n        flex: 1;\r\n        padding-right: px2rem(15);\r\n        box-sizing: border-box;\r\n        @include columnLeft;\r\n        .bottom-playing-chapter-text {\r\n          max-width: px2rem(305);\r\n          color: #333;\r\n          font-size: px2rem(16);\r\n          line-height: px2rem(19);\r\n          @include ellipsis;\r\n        }\r\n        .bottom-playing-page-text {\r\n          color: #666;\r\n          font-size: px2rem(10);\r\n          margin-top: px2rem(5);\r\n        }\r\n      }\r\n    }\r\n    .bottom-btn-wrapper {\r\n      width: 100%;\r\n      height: px2rem(52);\r\n      border-top: px2rem(1) solid #eee;\r\n      box-sizing: border-box;\r\n      color: $color-blue;\r\n      @include center;\r\n      .bottom-btn-text {\r\n        font-size: px2rem(14);\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakBottom.vue?vue&type=template&id=c4743b9a&scoped=true&\"\nimport script from \"./SpeakBottom.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakBottom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakBottom.vue?vue&type=style&index=0&id=c4743b9a&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4743b9a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=style&index=0&id=7d272252&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=style&index=0&id=7d272252&lang=scss&scoped=true&\"","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=style&index=0&id=2a77a8da&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=style&index=0&id=2a77a8da&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=style&index=0&id=62ea490c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=style&index=0&id=62ea490c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"book-speak-mask-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hide($event)}}},[_c('transition',{attrs:{\"name\":\"popup-slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.speakCardVisible),expression:\"speakCardVisible\"}],staticClass:\"book-speak-mask-card-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hide($event)}}},[_c('div',{staticClass:\"pulldown-icon-wrapper\",on:{\"click\":_vm.hide}},[_c('span',{staticClass:\"icon-pull_down\"})]),_c('div',{staticClass:\"card-title-wrapper\"},[_c('div',{staticClass:\"icon-speak-wrapper\"},[_c('span',{staticClass:\"icon-speak\"})]),_c('div',{staticClass:\"speak-title-wrapper\"},[_c('span',{staticClass:\"speak-title\"},[_vm._v(_vm._s(_vm.$t('speak.voice')))])]),_c('div',{staticClass:\"read-fulltext-wrapper\"},[_c('span',{staticClass:\"read-fulltext\"},[_vm._v(_vm._s(_vm.$t('speak.read')))])])]),_c('div',{staticClass:\"card-section-title-wrapper\"},[_c('div',{staticClass:\"card-section-title-text\"},[_vm._v(_vm._s(_vm.title))]),(_vm.currentSectionIndex)?_c('div',{staticClass:\"card-section-sub-title-text\"},[_vm._v(\"\\n            \"+_vm._s(_vm.currentSectionIndex)+\" / \"+_vm._s(_vm.currentSectionTotal)+\"\\n          \")]):_vm._e()]),_c('div',{staticClass:\"setting-progress\"},[_c('div',{staticClass:\"progress-wrapper\"},[_c('input',{ref:\"progress\",staticClass:\"progress\",attrs:{\"type\":\"range\",\"max\":\"100\",\"min\":\"0\",\"step\":\"1\"},domProps:{\"value\":_vm.progress},on:{\"change\":function($event){return _vm.onProgressChange($event.target.value)},\"input\":function($event){return _vm.onProgressInput($event.target.value)}}})]),_c('div',{staticClass:\"progress-text\"},[_c('div',{staticClass:\"progress-text-current\"},[_vm._v(_vm._s(_vm.playInfo ? _vm.playInfo.currentMinute : '00')+\":\"+_vm._s(_vm.playInfo ?\n              _vm.playInfo.currentSecond : '00')+\"\\n            \")]),_c('div',{staticClass:\"progress-text-left\"},[_vm._v(\"-\"+_vm._s(_vm.playInfo ? _vm.playInfo.leftMinute : '00')+\":\"+_vm._s(_vm.playInfo ?\n              _vm.playInfo.leftSecond : '00')+\"\\n            \")])])]),_c('div',{staticClass:\"playing-wrapper\"},[_c('div',{staticClass:\"icon-settings-wrapper\"},[_c('span',{staticClass:\"icon-settings\"}),_c('div',{staticClass:\"settings-text\"},[_vm._v(_vm._s(_vm.$t('speak.settings')))])]),_c('span',{staticClass:\"icon-play_backward\",class:{'not-use': _vm.currentSectionIndex <= 1},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.prev($event)}}}),_c('div',{staticClass:\"icon-play-wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlay($event)}}},[(!_vm.isPlaying)?_c('span',{staticClass:\"icon-play_go\"}):_c('span',{staticClass:\"icon-play_pause\"})]),_c('span',{staticClass:\"icon-play_forward\",class:{ 'not-use': _vm.currentSectionIndex >= _vm.currentSectionTotal },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.next($event)}}}),_c('div',{staticClass:\"icon-clock-wrapper\"},[_c('span',{staticClass:\"icon-clock\"}),_c('div',{staticClass:\"clock-text\"},[_vm._v(_vm._s(_vm.$t('speak.timing')))])])]),_c('div',{staticClass:\"read-apply-wrapper\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('speak.apply'))+\"\\n        \")]),_c('div',{staticClass:\"read-title-wrapper\"},[_c('span',{staticClass:\"line\"}),_c('div',{staticClass:\"read-title-text\"},[_vm._v(_vm._s(_vm.$t('speak.current')))]),_c('span',{staticClass:\"line\"})]),_c('div',{ref:\"bookWrapper\",staticClass:\"book-wrapper\"},[_c('div',{attrs:{\"id\":\"book-read\"}})])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"fade\">\r\n    <div class=\"book-speak-mask-wrapper\"\r\n         @click.stop.prevent=\"hide\"\r\n         v-show=\"visible\">\r\n      <transition name=\"popup-slide-up\">\r\n        <div class=\"book-speak-mask-card-wrapper\"\r\n             v-show=\"speakCardVisible\"\r\n             @click.stop.prevent=\"hide\">\r\n          <div class=\"pulldown-icon-wrapper\" @click=\"hide\">\r\n            <span class=\"icon-pull_down\"></span>\r\n          </div>\r\n          <div class=\"card-title-wrapper\">\r\n            <div class=\"icon-speak-wrapper\">\r\n              <span class=\"icon-speak\"></span>\r\n            </div>\r\n            <div class=\"speak-title-wrapper\">\r\n              <span class=\"speak-title\">{{ $t('speak.voice') }}</span>\r\n            </div>\r\n            <div class=\"read-fulltext-wrapper\">\r\n              <span class=\"read-fulltext\">{{ $t('speak.read') }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-section-title-wrapper\">\r\n            <div class=\"card-section-title-text\">{{ title }}</div>\r\n            <div class=\"card-section-sub-title-text\" v-if=\"currentSectionIndex\">\r\n              {{ currentSectionIndex }} / {{ currentSectionTotal }}\r\n            </div>\r\n          </div>\r\n          <div class=\"setting-progress\">\r\n            <div class=\"progress-wrapper\">\r\n              <input class=\"progress\" type=\"range\"\r\n                     max=\"100\"\r\n                     min=\"0\"\r\n                     step=\"1\"\r\n                     @change=\"onProgressChange($event.target.value)\"\r\n                     @input=\"onProgressInput($event.target.value)\"\r\n                     :value=\"progress\"\r\n                     ref=\"progress\">\r\n            </div>\r\n            <div class=\"progress-text\">\r\n              <div class=\"progress-text-current\">{{ playInfo ? playInfo.currentMinute : '00' }}:{{ playInfo ?\r\n                playInfo.currentSecond : '00' }}\r\n              </div>\r\n              <div class=\"progress-text-left\">-{{ playInfo ? playInfo.leftMinute : '00' }}:{{ playInfo ?\r\n                playInfo.leftSecond : '00' }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"playing-wrapper\">\r\n            <div class=\"icon-settings-wrapper\">\r\n              <span class=\"icon-settings\"></span>\r\n              <div class=\"settings-text\">{{$t('speak.settings')}}</div>\r\n            </div>\r\n            <span class=\"icon-play_backward\"\r\n                  :class=\"{'not-use': currentSectionIndex <= 1}\"\r\n                  @click.stop.prevent=\"prev\"></span>\r\n            <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\r\n              <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\r\n              <span class=\"icon-play_pause\" v-else></span>\r\n            </div>\r\n            <span class=\"icon-play_forward\"\r\n                  :class=\"{ 'not-use': currentSectionIndex >= currentSectionTotal }\"\r\n                  @click.stop.prevent=\"next\"></span>\r\n            <div class=\"icon-clock-wrapper\">\r\n              <span class=\"icon-clock\"></span>\r\n              <div class=\"clock-text\">{{ $t('speak.timing') }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"read-apply-wrapper\">\r\n            {{ $t('speak.apply') }}\r\n          </div>\r\n          <div class=\"read-title-wrapper\">\r\n            <span class=\"line\"></span>\r\n            <div class=\"read-title-text\">{{ $t('speak.current') }}</div>\r\n            <span class=\"line\"></span>\r\n          </div>\r\n          <div class=\"book-wrapper\" ref=\"bookWrapper\">\r\n            <div id=\"book-read\"></div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  import { realPx } from '@/utils/utils'\r\n\r\n  export default {\r\n    props: {\r\n      title: String,\r\n      book: Object,\r\n      section: Object,\r\n      currentSectionIndex: Number,\r\n      currentSectionTotal: Number,\r\n      isPlaying: Boolean,\r\n      playInfo: Object\r\n    },\r\n    data () {\r\n      return {\r\n        visible: false,\r\n        speakCardVisible: false,\r\n        progress: 0,\r\n        readHeight: 0\r\n      }\r\n    },\r\n    methods: {\r\n      // \r\n      refreshProgress (p) {\r\n        this.progress = p\r\n        this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\r\n      },\r\n      // \r\n      updateText (promise) {\r\n        promise.then(() => {\r\n          const currentPage = this.rendition.currentLocation()\r\n          const cfibase = this.section.cfiBase\r\n          const cfistart = currentPage.start.cfi.replace(/.*!/, '').replace(/\\)/, '')\r\n          const cfiend = currentPage.end.cfi.replace(/.*!/, '').replace(/\\)/, '')\r\n          this.book.getRange(`epubcfi(${cfibase}!,${cfistart},${cfiend})`).then(range => {\r\n            let text = range.toString()\r\n            text = text.replace(/\\s(2,)/g, '')\r\n            text = text.replace(/\\r/g, '')\r\n            text = text.replace(/\\n/g, '')\r\n            text = text.replace(/\\t/g, '')\r\n            text = text.replace(/\\f/g, '')\r\n            this.$emit('updateText', text)\r\n          })\r\n        })\r\n      },\r\n      // /\r\n      togglePlay () {\r\n        this.$parent.togglePlay()\r\n      },\r\n      // \r\n      prev () {\r\n        if (this.currentSectionIndex > 1) {\r\n          this.updateText(this.rendition.prev())\r\n          this.$emit('update:currentSectionIndex', this.currentSectionIndex - 1)\r\n          this.$parent.resetPlay()\r\n          setTimeout(() => {\r\n            this.$parent.togglePlay()\r\n          }, 500)\r\n        }\r\n      },\r\n      // \r\n      next () {\r\n        if (this.currentSectionIndex < this.currentSectionTotal) {\r\n          this.updateText(this.rendition.next())\r\n          this.$emit('update:currentSectionIndex', this.currentSectionIndex + 1)\r\n          this.$parent.resetPlay()\r\n          setTimeout(() => {\r\n            this.$parent.togglePlay()\r\n          }, 500)\r\n        }\r\n      },\r\n      // \r\n      display () {\r\n        if (!this.rendition) {\r\n          this.rendition = this.book.renderTo('book-read', {\r\n            width: window.innerWidth > 640 ? 640 : window.innerWidth,\r\n            height: this.readHeight,\r\n            method: 'default'\r\n          })\r\n          this.displayed = this.rendition.display(this.section.href)\r\n        } else {\r\n          this.displayed = this.rendition.display(this.section.href)\r\n        }\r\n      },\r\n      onProgressChange (progress) {},\r\n      // \r\n      onProgressInput (progress) {\r\n        this.progress = progress\r\n        this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\r\n      },\r\n      // \r\n      hide () {\r\n        this.speakCardVisible = false\r\n        this.visible = false\r\n      },\r\n      // \r\n      show () {\r\n        this.visible = true\r\n        this.speakCardVisible = true\r\n        this.refresh()\r\n        this.$nextTick(() => {\r\n          this.display()\r\n        })\r\n      },\r\n      // \r\n      refresh () {\r\n        this.readHeight = window.innerHeight * 0.9 - realPx(40) - realPx(54) - realPx(46) - realPx(48) - realPx(60) - realPx(44)\r\n        this.$refs.bookWrapper.style.height = this.readHeight + 'px'\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/styles/scss/global.scss\";\r\n\r\n  .book-speak-mask-wrapper {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: 120;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, .5);\r\n    .book-speak-mask-card-wrapper {\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      z-index: 120;\r\n      width: 100%;\r\n      height: 90%;\r\n      background: white;\r\n      border-radius: px2rem(10) px2rem(10) 0 0;\r\n      .pulldown-icon-wrapper {\r\n        width: 100%;\r\n        height: px2rem(40);\r\n        color: #ccc;\r\n        font-size: px2rem(40);\r\n        @include center;\r\n      }\r\n      .card-title-wrapper {\r\n        width: 100%;\r\n        height: px2rem(54);\r\n        display: flex;\r\n        padding: 0 px2rem(15);\r\n        box-sizing: border-box;\r\n        .icon-speak-wrapper {\r\n          flex: 0 0 px2rem(40);\r\n          @include left;\r\n          .icon-speak {\r\n            font-size: px2rem(24);\r\n            color: #999;\r\n          }\r\n        }\r\n        .speak-title-wrapper {\r\n          flex: 1;\r\n          @include left;\r\n          .speak-title {\r\n            font-size: px2rem(16);\r\n            font-weight: bold;\r\n            color: #666;\r\n          }\r\n        }\r\n        .read-fulltext-wrapper {\r\n          flex: 1;\r\n          @include right;\r\n          .read-fulltext {\r\n            font-size: px2rem(12);\r\n            font-weight: bold;\r\n            color: $color-blue;\r\n            background: rgba(74, 171, 255, .2);\r\n            padding: px2rem(5) px2rem(10);\r\n            box-sizing: border-box;\r\n            border-radius: px2rem(20);\r\n          }\r\n        }\r\n      }\r\n      .card-section-title-wrapper {\r\n        width: 100%;\r\n        height: px2rem(46);\r\n        padding: 0 px2rem(15);\r\n        box-sizing: border-box;\r\n        @include columnCenter;\r\n        .card-section-title-text {\r\n          font-size: px2rem(16);\r\n          color: #333;\r\n          font-weight: bold;\r\n        }\r\n        .card-section-sub-title-text {\r\n          font-size: px2rem(12);\r\n          color: #666;\r\n          margin-top: px2rem(5);\r\n        }\r\n      }\r\n      .setting-progress {\r\n        width: 100%;\r\n        height: px2rem(48);\r\n        @include columnTop;\r\n        .progress-wrapper {\r\n          flex: 1;\r\n          width: 100%;\r\n          @include center;\r\n          padding: 0 px2rem(30);\r\n          box-sizing: border-box;\r\n          .progress {\r\n            width: 100%;\r\n            -webkit-appearance: none;\r\n            height: px2rem(2);\r\n            background: -webkit-linear-gradient($color-blue, $color-blue) no-repeat, rgba(74, 171, 255, .2);\r\n            background-size: 0 100%;\r\n            &:focus {\r\n              outline: none;\r\n            }\r\n            &::-webkit-slider-thumb {\r\n              -webkit-appearance: none;\r\n              height: px2rem(20);\r\n              width: px2rem(20);\r\n              border-radius: 50%;\r\n              background: $color-blue;\r\n              border: none;\r\n              box-shadow: 0 4px 4px 0 rgba(0, 0, 0, .15);\r\n            }\r\n          }\r\n        }\r\n        .progress-text {\r\n          display: flex;\r\n          width: 100%;\r\n          padding: 0 px2rem(30);\r\n          box-sizing: border-box;\r\n          .progress-text-current {\r\n            flex: 1;\r\n            text-align: left;\r\n            font-size: px2rem(10);\r\n            color: #666;\r\n          }\r\n          .progress-text-left {\r\n            flex: 1;\r\n            text-align: right;\r\n            font-size: px2rem(10);\r\n            color: #666;\r\n          }\r\n        }\r\n      }\r\n      .playing-wrapper {\r\n        width: 100%;\r\n        height: px2rem(60);\r\n        @include center;\r\n        .icon-settings-wrapper {\r\n          flex: 1;\r\n          @include columnCenter;\r\n          .icon-settings {\r\n            font-size: px2rem(18);\r\n            color: #666;\r\n          }\r\n          .settings-text {\r\n            margin-top: px2rem(5);\r\n            font-size: px2rem(10);\r\n            color: #666;\r\n          }\r\n        }\r\n        .icon-play_backward {\r\n          font-size: px2rem(30);\r\n          color: $color-blue;\r\n          &:active {\r\n            opacity: .5;\r\n          }\r\n          &.not-use {\r\n            color: $color-blue-transparent;\r\n          }\r\n        }\r\n        .icon-play-wrapper {\r\n          flex: 0 0 px2rem(100);\r\n          @include center;\r\n          &:active {\r\n            opacity: .5;\r\n          }\r\n          .icon-play_go {\r\n            font-size: px2rem(50);\r\n            color: $color-blue;\r\n          }\r\n          .icon-play_pause {\r\n            font-size: px2rem(50);\r\n            color: $color-blue;\r\n          }\r\n        }\r\n        .icon-play_forward {\r\n          font-size: px2rem(30);\r\n          color: $color-blue;\r\n          &:active {\r\n            opacity: .5;\r\n          }\r\n          &.not-use {\r\n            color: $color-blue-transparent;\r\n          }\r\n        }\r\n        .icon-clock-wrapper {\r\n          flex: 1;\r\n          @include columnCenter;\r\n          .icon-clock2 {\r\n            font-size: px2rem(18);\r\n            color: #666;\r\n          }\r\n          .clock-text {\r\n            margin-top: px2rem(5);\r\n            font-size: px2rem(10);\r\n            color: #666;\r\n          }\r\n        }\r\n      }\r\n      .read-apply-wrapper {\r\n        width: 100%;\r\n        height: px2rem(20);\r\n        font-size: px2rem(10);\r\n        color: $color-green;\r\n        @include center;\r\n      }\r\n      .read-title-wrapper {\r\n        width: 100%;\r\n        height: px2rem(24);\r\n        box-sizing: border-box;\r\n        @include center;\r\n        .line {\r\n          flex: 1;\r\n          border-top: px2rem(1) solid #eee;\r\n          height: 0;\r\n        }\r\n        .read-title-text {\r\n          flex: 0 0 px2rem(130);\r\n          font-size: px2rem(14);\r\n          color: #666;\r\n          text-align: center;\r\n        }\r\n      }\r\n      .book-wrapper {\r\n        #read {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakMask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakMask.vue?vue&type=template&id=702e0268&scoped=true&\"\nimport script from \"./SpeakMask.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakMask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakMask.vue?vue&type=style&index=0&id=702e0268&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"702e0268\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"scrollWrapper\",staticClass:\"scroll-wrapper\",class:{'no-scroll': _vm.ifNoScroll},on:{\"&scroll\":function($event){return _vm.handleScroll($event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"scroll-wrapper\"\r\n    :class=\"{'no-scroll': ifNoScroll}\"\r\n    @scroll.passive=\"handleScroll\"\r\n    ref=\"scrollWrapper\"\r\n  >\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { realPx } from '@/utils/utils'\r\n\r\nexport default {\r\n  props: {\r\n    top: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    bottom: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    ifNoScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    initPosition: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          x: 0,\r\n          y: 0\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleScroll (e) {\r\n      const offsetY =\r\n        e.target.scrollTop || window.pageYOffset || document.body.scrollTop\r\n      this.$emit('onScroll', offsetY)\r\n    },\r\n    scrollTo (x, y) {\r\n      this.$refs.scrollWrapper.scrollTo(x, y)\r\n    },\r\n    refresh () {\r\n      if (this.$refs.scrollWrapper) {\r\n        this.$refs.scrollWrapper.style.height =\r\n          window.innerHeight - realPx(this.top) - realPx(this.bottom) + 'px'\r\n        this.$refs.scrollWrapper.addEventListener('scroll', this.handleScroll)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // dom\r\n    this.$nextTick(() => {\r\n    this.refresh()\r\n      setTimeout(() => {\r\n        this.scrollTo(realPx(this.initPosition.x), realPx(this.initPosition.y))\r\n      }, 1)\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/styles/scss/global.scss\";\r\n\r\n.scroll-wrapper {\r\n  position: relative;\r\n  z-index: 100;\r\n  width: 100%;\r\n  @include scroll;\r\n  &.no-scroll {\r\n    overflow: hidden;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scroll.vue?vue&type=template&id=7d272252&scoped=true&\"\nimport script from \"./Scroll.vue?vue&type=script&lang=js&\"\nexport * from \"./Scroll.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scroll.vue?vue&type=style&index=0&id=7d272252&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d272252\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=style&index=0&id=c4743b9a&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakBottom.vue?vue&type=style&index=0&id=c4743b9a&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","<template>\r\n  <div class=\"book-speaking\">\r\n    <detail-title @back=\"back\" ref=\"title\" />\r\n    <scroll class=\"content-wrapper\"\r\n            :top=\"42\"\r\n            :bottom=\"scrollBottom\"\r\n            :ifNoScroll=\"disableScroll\"\r\n            @onScroll=\"onScroll\"\r\n            ref=\"scroll\">\r\n      <book-info :cover=\"cover\"\r\n                 :title=\"title\"\r\n                 :author=\"author\"\r\n                 :desc=\"desc\" />\r\n      <div class=\"book-speak-title-wrapper\">\r\n        <div class=\"icon-speak-wrapper\">\r\n          <span class=\"icon-speak\"></span>\r\n        </div>\r\n        <div class=\"speak-title-wrapper\">\r\n          <span class=\"speak-title\">{{ $t('speak.voice') }}</span>\r\n        </div>\r\n        <div class=\"icon-down-wrapper\" @click=\"toggleContent\">\r\n          <span :class=\"{ 'icon-down2': !ifShowContent, 'icon-up': ifShowContent }\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"book-detail-content-wrapper\" v-show=\"ifShowContent\">\r\n        <div class=\"book-detail-content-list-wrapper\">\r\n          <div class=\"loading-text-wrapper\" v-if=\"!this.navigation\">\r\n            <span class=\"loading-text\">{{ $t('detail.loading') }}</span>\r\n          </div>\r\n          <div class=\"book-detail-content-item-wrapper\">\r\n            <div class=\"book-detail-content-item\"\r\n                 v-for=\"(item, index) in flatNavigation\"\r\n                 :key=\"index\"\r\n                 @click=\"speak(item, index)\">\r\n              <speak-playing v-if=\"playingIndex === index\"\r\n                             :number=\"5\"\r\n                             ref=\"speakPlaying\" />\r\n              <div class=\"book-detail-content-navigation-text\"\r\n                   :class=\"{'is-playing': playingIndex === index}\"\r\n                   v-if=\"item.label\">\r\n                {{ item.label }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <audio @canplay=\"onCanPlay\"\r\n             @timeupdate=\"onTimeUpdate\"\r\n             @ended=\"onAudioEnded\"\r\n             ref=\"audio\"></audio>\r\n    </scroll>\r\n    <bottom :chapter=\"chapter\"\r\n            :currentSectionIndex=\"currentSectionIndex\"\r\n            :currentSectionTotal=\"currentSectionTotal\"\r\n            :showPlay=\"showPlay\"\r\n            :isPlaying.sync=\"isPlaying\"\r\n            :playInfo=\"playInfo\"\r\n            :bookItem=\"bookItem\"\r\n            @onPlayingCardClick=\"onPlayingCardClick\"\r\n    />\r\n    <div class=\"book-wrapper\">\r\n      <div id=\"read\"></div>\r\n    </div>\r\n    <speak-window :title=\"this.chapter ? this.chapter.label : ''\"\r\n                  :book=\"book\"\r\n                  :section=\"section\"\r\n                  :currentSectionIndex.sync=\"currentSectionIndex\"\r\n                  :currentSectionTotal=\"currentSectionTotal\"\r\n                  :isPlaying.sync=\"isPlaying\"\r\n                  :playInfo=\"playInfo\"\r\n                  @updateText=\"updateText\"\r\n                  ref=\"speakWindow\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import DetailTitle from '@/components/detail/DetaiTitle'\r\n  import BookInfo from '@/components/detail/BookInfo'\r\n  import Scroll from '@/components/common/Scroll'\r\n  import SpeakPlaying from '@/components/speak/SpeakPlaying'\r\n  import Bottom from '@/components/speak/SpeakBottom'\r\n  import SpeakWindow from '@/components/speak/SpeakMask'\r\n  import { findBook, getCategoryName } from '@/utils/store'\r\n  import { download, flatList } from '@/api/store'\r\n  import { getLocalForage } from '@/utils/localForage'\r\n  import { realPx } from '@/utils/utils'\r\n  import Epub from 'epubjs'\r\n\r\n  global.ePub = Epub\r\n\r\n  export default {\r\n    components: {\r\n      DetailTitle,\r\n      BookInfo,\r\n      Scroll,\r\n      SpeakPlaying,\r\n      Bottom,\r\n      SpeakWindow\r\n    },\r\n    computed: {\r\n      currentMinute () {\r\n        const m = Math.floor(this.currentPlayingTime / 60)\r\n        return m < 10 ? '0' + m : m\r\n      },\r\n      currentSecond () {\r\n        const s = Math.floor(this.currentPlayingTime - parseInt(this.currentMinute) * 60)\r\n        return s < 10 ? '0' + s : s\r\n      },\r\n      totalMinute () {\r\n        const m = Math.floor(this.totalPlayingTime / 60)\r\n        return m < 10 ? '0' + m : m\r\n      },\r\n      totalSecond () {\r\n        const s = Math.floor(this.totalPlayingTime - parseInt(this.totalMinute) * 60)\r\n        return s < 10 ? '0' + s : s\r\n      },\r\n      leftMinute () {\r\n        const m = Math.floor((this.totalPlayingTime - this.currentPlayingTime) / 60)\r\n        return m < 10 ? '0' + m : m\r\n      },\r\n      leftSecond () {\r\n        const s = Math.floor((this.totalPlayingTime - this.currentPlayingTime) - parseInt(this.leftMinute) * 60)\r\n        return s < 10 ? '0' + s : s\r\n      },\r\n      playInfo () {\r\n        if (this.audioCanPlay) {\r\n          return {\r\n            currentMinute: this.currentMinute,\r\n            currentSecond: this.currentSecond,\r\n            totalMinute: this.totalMinute,\r\n            totalSecond: this.totalSecond,\r\n            leftMinute: this.leftMinute,\r\n            leftSecond: this.leftSecond\r\n          }\r\n        } else {\r\n          return null\r\n        }\r\n      },\r\n      lang () {\r\n        return this.metadata ? this.metadata.language : ''\r\n      },\r\n      disableScroll () {\r\n        if (this.$refs.speakWindow) {\r\n          return this.$refs.speakWindow.visible\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      showPlay () {\r\n        return this.playingIndex >= 0\r\n      },\r\n      scrollBottom () {\r\n        return this.showPlay ? 116 : 52\r\n      },\r\n      chapter () {\r\n        return this.flatNavigation[this.playingIndex]\r\n      },\r\n      desc () {\r\n        if (this.description) {\r\n          return this.description.substring(0, 100)\r\n        } else {\r\n          return ''\r\n        }\r\n      },\r\n      flatNavigation () {\r\n        if (this.navigation) {\r\n          return Array.prototype.concat.apply([], Array.prototype.concat.apply([], this.doFlatNavigation(this.navigation.toc)))\r\n        } else {\r\n          return []\r\n        }\r\n      },\r\n      category () {\r\n        return this.bookItem ? getCategoryName(this.bookItem.category) : ''\r\n      },\r\n      title () {\r\n        return this.metadata ? this.metadata.title : ''\r\n      },\r\n      author () {\r\n        return this.metadata ? this.metadata.creator : ''\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        bookItem: null,\r\n        book: null,\r\n        rendition: null,\r\n        metadata: null,\r\n        cover: null,\r\n        navigation: null,\r\n        description: null,\r\n        ifShowContent: true,\r\n        playingIndex: -1,\r\n        paragraph: null,\r\n        currentSectionIndex: null,\r\n        currentSectionTotal: null,\r\n        section: null,\r\n        isPlaying: false,\r\n        audio: null,\r\n        audioCanPlay: false,\r\n        currentPlayingTime: 0,\r\n        totalPlayingTime: 0,\r\n        playStatus: 0, // 0 - 1 - 2 - \r\n        toastText: '',\r\n        isOnline: false\r\n      }\r\n    },\r\n    methods: {\r\n      // \r\n      createVoice (text) {\r\n        const xhr = new XMLHttpRequest()\r\n        xhr.open('GET', `${process.env.VUE_APP_VOICE_URL}/voice?text=${text}&lang=${this.lang.toLowerCase()}`, false)\r\n        xhr.send()\r\n        const resText = xhr.responseText\r\n        if (resText) {\r\n          const json = JSON.parse(resText)\r\n          if (json.path) {\r\n            this.$refs.audio.src = json.path\r\n            this.continuePlay()\r\n          } else {\r\n            this.showToast('')\r\n          }\r\n        } else {\r\n          this.showToast('')\r\n        }\r\n      },\r\n      // /\r\n      togglePlay () {\r\n        if (!this.isPlaying) {\r\n          if (this.playStatus === 0) {\r\n            this.play()\r\n          } else if (this.playStatus === 2) {\r\n            this.continuePlay()\r\n          }\r\n        } else {\r\n          this.pausePlay()\r\n        }\r\n      },\r\n      // \r\n      speak (item, index) {\r\n        this.resetPlay()\r\n        this.playingIndex = index\r\n        this.$nextTick(() => {\r\n          this.$refs.scroll.refresh()\r\n        })\r\n        if (this.chapter) {\r\n          this.section = this.book.spine.get(this.chapter.href)\r\n          this.rendition.display(this.section.href).then(section => {\r\n            const currentPage = this.rendition.currentLocation()\r\n            const cfibase = section.cfiBase\r\n            const cfistart = currentPage.start.cfi.replace(/.*!/, '').replace(/\\)/, '')\r\n            const cfiend = currentPage.end.cfi.replace(/.*!/, '').replace(/\\)/, '')\r\n            this.currentSectionIndex = currentPage.start.displayed.page\r\n            this.currentSectionTotal = currentPage.start.displayed.total\r\n            const cfi = `epubcfi(${cfibase}!,${cfistart},${cfiend})`\r\n            this.book.getRange(cfi).then(range => {\r\n              let text = range.toLocaleString()\r\n              text = text.replace(/\\s(2,)/g, '')\r\n              text = text.replace(/\\r/g, '')\r\n              text = text.replace(/\\n/g, '')\r\n              text = text.replace(/\\t/g, '')\r\n              text = text.replace(/\\f/g, '')\r\n              this.updateText(text)\r\n            })\r\n          })\r\n        }\r\n      },\r\n      // \r\n      resetPlay () {\r\n        if (this.playStatus === 1) {\r\n          this.pausePlay()\r\n        }\r\n        this.isPlaying = false\r\n        this.playStatus = 0\r\n      },\r\n      // \r\n      play () {\r\n        this.createVoice(this.paragraph)\r\n      },\r\n      // \r\n      continuePlay () {\r\n        this.$refs.audio.play().then(() => {\r\n          this.$refs.speakPlaying[0].startAnimation()\r\n          this.isPlaying = true\r\n          this.playStatus = 1\r\n        })\r\n      },\r\n      // \r\n      pausePlay () {\r\n        this.$refs.audio.pause()\r\n        this.$refs.speakPlaying[0].stopAnimation()\r\n        this.isPlaying = false\r\n        this.playStatus = 2\r\n      },\r\n      // \r\n      onAudioEnded () {\r\n        this.resetPlay()\r\n        this.currentPlayingTime = this.$refs.audio.currentTime\r\n        const percent = Math.floor((this.currentPlayingTime / this.totalPlayingTime) * 100)\r\n        this.$refs.speakWindow.refreshProgress(percent)\r\n      },\r\n      // \r\n      onTimeUpdate () {\r\n        this.currentPlayingTime = this.$refs.audio.currentTime\r\n        const percent = Math.floor((this.currentPlayingTime / this.totalPlayingTime) * 100)\r\n        this.$refs.speakWindow.refreshProgress(percent)\r\n      },\r\n      // \r\n      onCanPlay () {\r\n        this.audioCanPlay = true\r\n        this.currentPlayingTime = this.$refs.audio.currentTime\r\n        this.totalPlayingTime = this.$refs.audio.duration\r\n      },\r\n      findBookFromList (fileName) {\r\n        flatList().then(response => {\r\n          if (response.status === 200) {\r\n            const bookList = response.data.data.filter(item => item.fileName === fileName)\r\n            if (bookList && bookList.length > 0) {\r\n              this.bookItem = bookList[0]\r\n              this.init()\r\n            }\r\n          }\r\n        })\r\n      },\r\n      // \r\n      init () {\r\n        const fileName = this.$route.query.fileName\r\n        if (!this.bookItem) {\r\n          this.bookItem = findBook(fileName)\r\n        }\r\n        if (this.bookItem) {\r\n          getLocalForage(fileName, (err, blob) => {\r\n            if (err || !blob) {\r\n              // this.downloadBook(fileName)\r\n              this.isOnline = true\r\n              const opf = this.$route.query.opf\r\n              if (opf) {\r\n                this.parseBook(opf)\r\n              }\r\n            } else {\r\n              this.isOnline = false\r\n              this.parseBook(blob)\r\n            }\r\n          })\r\n        } else {\r\n          this.findBookFromList(fileName)\r\n        }\r\n      },\r\n      // \r\n      downloadBook (fileName) {\r\n        download(\r\n          this.bookItem,\r\n           () => {\r\n            getLocalForage(fileName, (err, blob) => {\r\n              if (err) {\r\n                return\r\n              }\r\n              this.parseBook(blob)\r\n            })\r\n          })\r\n      },\r\n      // \r\n      parseBook (blob) {\r\n        this.book = new Epub(blob)\r\n        this.book.loaded.metadata.then(metadata => {\r\n          this.metadata = metadata\r\n        })\r\n        if (this.isOnline) {\r\n          this.book.coverUrl().then(url => {\r\n            this.cover = url\r\n          })\r\n        } else {\r\n          this.book.loaded.cover.then(cover => {\r\n            this.book.archive.createUrl(cover).then(url => {\r\n              this.cover = url\r\n            })\r\n          })\r\n        }\r\n        this.book.loaded.navigation.then(nav => {\r\n          this.navigation = nav\r\n        })\r\n        this.display()\r\n      },\r\n      back () {\r\n        this.$router.go(-1)\r\n      },\r\n      // \r\n      onScroll (offsetY) {\r\n        if (offsetY > realPx(42)) {\r\n          this.$refs.title.showShadow()\r\n        } else {\r\n          this.$refs.title.hideShadow()\r\n        }\r\n      },\r\n      // \r\n      toggleContent () {\r\n        this.ifShowContent = !this.ifShowContent\r\n      },\r\n\r\n      // \r\n      display () {\r\n        const height = window.innerHeight * 0.9 - realPx(40) - realPx(54) - realPx(46) - realPx(48) - realPx(60) - realPx(44)\r\n        this.rendition = this.book.renderTo('read', {\r\n          width: window.innerWidth,\r\n          height: height,\r\n          method: 'default'\r\n        })\r\n        this.rendition.display()\r\n      },\r\n\r\n      doFlatNavigation (content, deep = 1) {\r\n        const arr = []\r\n        content.forEach(item => {\r\n          item.deep = deep\r\n          arr.push(item)\r\n          if (item.subitems && item.subitems.length > 0) {\r\n            arr.push(this.doFlatNavigation(item.subitems, deep + 1))\r\n          }\r\n        })\r\n        return arr\r\n      },\r\n      showToast (text) {\r\n        this.simpleToast(text)\r\n      },\r\n      onPlayingCardClick () {\r\n        this.$refs.speakWindow.show()\r\n      },\r\n      updateText (text) {\r\n        this.paragraph = text\r\n      }\r\n    },\r\n    mounted () {\r\n      this.init()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/styles/scss/global.scss\";\r\n\r\n  .book-speaking {\r\n    font-size: px2rem(16);\r\n    width: 100%;\r\n    background: white;\r\n    .content-wrapper {\r\n      width: 100%;\r\n      .book-speak-title-wrapper {\r\n        display: flex;\r\n        padding: px2rem(15);\r\n        box-sizing: border-box;\r\n        border-bottom: px2rem(1) solid #eee;\r\n        .icon-speak-wrapper {\r\n          flex: 0 0 px2rem(40);\r\n          @include left;\r\n          .icon-speak {\r\n            font-size: px2rem(24);\r\n            color: #999;\r\n          }\r\n        }\r\n        .speak-title-wrapper {\r\n          flex: 1;\r\n          @include left;\r\n          .speak-title {\r\n            font-size: px2rem(16);\r\n            font-weight: bold;\r\n            color: #666;\r\n          }\r\n        }\r\n        .icon-down-wrapper {\r\n          flex: 0 0 px2rem(40);\r\n          @include right;\r\n          .icon-up {\r\n            font-size: px2rem(12);\r\n            color: #999;\r\n          }\r\n          .icon-down2 {\r\n            font-size: px2rem(12);\r\n            color: #999;\r\n          }\r\n        }\r\n      }\r\n      .book-detail-content-wrapper {\r\n        width: 100%;\r\n        border-bottom: px2rem(1) solid #eee;\r\n        box-sizing: border-box;\r\n        .book-detail-content-list-wrapper {\r\n          padding: px2rem(10) px2rem(15);\r\n          .loading-text-wrapper {\r\n            width: 100%;\r\n            .loading-text {\r\n              font-size: px2rem(14);\r\n              color: #999;\r\n            }\r\n          }\r\n          .book-detail-content-item-wrapper {\r\n            .book-detail-content-item {\r\n              display: flex;\r\n              padding: px2rem(15) 0;\r\n              font-size: px2rem(14);\r\n              line-height: px2rem(16);\r\n              color: #333;\r\n              border-bottom: px2rem(1) solid #eee;\r\n              &:last-child {\r\n                border-bottom: none;\r\n              }\r\n              .book-detail-content-navigation-text {\r\n                flex: 1;\r\n                width: 100%;\r\n                @include ellipsis;\r\n                &.is-playing {\r\n                  color: $color-blue;\r\n                  font-weight: bold;\r\n                  margin-left: px2rem(10);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cover-title-wrapper\"},[_c('div',{staticClass:\"cover-title-left-wrapper\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.cover),expression:\"cover\"}],staticClass:\"cover-img\"})]),_c('div',{staticClass:\"cover-title-right-wrapper\"},[_c('div',{staticClass:\"detail-cover-title-wrapper\"},[_c('div',{staticClass:\"cover-title-text\"},[_vm._v(_vm._s(_vm.title))])]),_c('div',{staticClass:\"cover-author-wrapper\"},[_c('div',{staticClass:\"cover-author-text\"},[_vm._v(_vm._s(_vm.author))])]),_c('div',{staticClass:\"detail-cover-description-wrapper\"},[_c('div',{staticClass:\"detail-cover-description-text\"},[_vm._v(_vm._s(_vm.desc))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cover-title-wrapper\">\r\n    <div class=\"cover-title-left-wrapper\">\r\n      <img class=\"cover-img\" v-lazy=\"cover\">\r\n    </div>\r\n    <div class=\"cover-title-right-wrapper\">\r\n      <div class=\"detail-cover-title-wrapper\">\r\n        <div class=\"cover-title-text\">{{ title }}</div>\r\n      </div>\r\n      <div class=\"cover-author-wrapper\">\r\n        <div class=\"cover-author-text\">{{ author }}</div>\r\n      </div>\r\n      <div class=\"detail-cover-description-wrapper\">\r\n        <div class=\"detail-cover-description-text\">{{ desc }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      cover: {\r\n        type: String\r\n      },\r\n      title: String,\r\n      author: String,\r\n      desc: String\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/styles/scss/global.scss\";\r\n\r\n  .cover-title-wrapper {\r\n    display: flex;\r\n    width: 100%;\r\n    padding: px2rem(10) 0;\r\n    border-bottom: px2rem(1) solid #eee;\r\n    box-sizing: border-box;\r\n    .cover-title-left-wrapper {\r\n      flex: 0 0 px2rem(103);\r\n      padding: px2rem(10) 0 px2rem(10) px2rem(15);\r\n      box-sizing: border-box;\r\n      @include top;\r\n      .cover-img {\r\n        width: px2rem(103);\r\n        height: px2rem(146);\r\n      }\r\n    }\r\n    .cover-title-right-wrapper {\r\n      flex: 1;\r\n      width: 70%;\r\n      box-sizing: border-box;\r\n      padding: px2rem(10) px2rem(15);\r\n      .detail-cover-title-wrapper {\r\n        .cover-title-text {\r\n          color: #333;\r\n          font-size: px2rem(20);\r\n          font-weight: bold;\r\n          line-height: px2rem(26);\r\n          @include ellipsis2(2);\r\n        }\r\n      }\r\n      .cover-author-wrapper {\r\n        margin-top: px2rem(10);\r\n        .cover-author-text {\r\n          font-size: px2rem(14);\r\n          line-height: px2rem(16);\r\n          color: $color-blue;\r\n        }\r\n      }\r\n      .detail-cover-description-wrapper {\r\n        margin-top: px2rem(10);\r\n        .detail-cover-description-text {\r\n          font-size: px2rem(14);\r\n          line-height: px2rem(16);\r\n          color: #666;\r\n          word-break: keep-all;\r\n          white-space: normal;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          overflow-wrap: break-word;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookInfo.vue?vue&type=template&id=62ea490c&scoped=true&\"\nimport script from \"./BookInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./BookInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookInfo.vue?vue&type=style&index=0&id=62ea490c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62ea490c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playing-item-wrapper\"},_vm._l((_vm.styles),function(item,index){return _c('div',{key:index,ref:\"playingItem\",refInFor:true,staticClass:\"playing-item\",style:(item)})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"playing-item-wrapper\">\r\n    <div class=\"playing-item\"\r\n         :style=\"item\"\r\n         v-for=\"(item, index) in styles\"\r\n         :key=\"index\"\r\n         ref=\"playingItem\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { px2rem } from '@/utils/utils'\r\n\r\n  export default {\r\n    props: {\r\n      number: Number\r\n    },\r\n    computed: {\r\n      styles () {\r\n        const styles = new Array(this.number)\r\n        for (let i = 0; i < styles.length; i++) {\r\n          styles[i] = {\r\n            height: px2rem(this.random()) + 'rem'\r\n          }\r\n        }\r\n        return styles\r\n      }\r\n    },\r\n    methods: {\r\n      startAnimation () {\r\n        this.task = setInterval(() => {\r\n          this.$refs.playingItem.forEach(item => {\r\n            item.style.height = px2rem(this.random()) + 'rem'\r\n          })\r\n        }, 200)\r\n      },\r\n      stopAnimation () {\r\n        if (this.task) {\r\n          clearInterval(this.task)\r\n        }\r\n      },\r\n      random () {\r\n        return Math.ceil(Math.random() * 10)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/styles/scss/global.scss\";\r\n\r\n  .playing-item-wrapper {\r\n    @include center;\r\n    .playing-item {\r\n      flex: 0 0 px2rem(2);\r\n      width: px2rem(2);\r\n      height: px2rem(1);\r\n      background: $color-blue;\r\n      margin-left: px2rem(2);\r\n      transition: all .2s ease-in-out;\r\n      &:first-child {\r\n        margin: 0;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeakPlaying.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpeakPlaying.vue?vue&type=template&id=4f2041d6&scoped=true&\"\nimport script from \"./SpeakPlaying.vue?vue&type=script&lang=js&\"\nexport * from \"./SpeakPlaying.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpeakPlaying.vue?vue&type=style&index=0&id=4f2041d6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f2041d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-speaking\"},[_c('detail-title',{ref:\"title\",on:{\"back\":_vm.back}}),_c('scroll',{ref:\"scroll\",staticClass:\"content-wrapper\",attrs:{\"top\":42,\"bottom\":_vm.scrollBottom,\"ifNoScroll\":_vm.disableScroll},on:{\"onScroll\":_vm.onScroll}},[_c('book-info',{attrs:{\"cover\":_vm.cover,\"title\":_vm.title,\"author\":_vm.author,\"desc\":_vm.desc}}),_c('div',{staticClass:\"book-speak-title-wrapper\"},[_c('div',{staticClass:\"icon-speak-wrapper\"},[_c('span',{staticClass:\"icon-speak\"})]),_c('div',{staticClass:\"speak-title-wrapper\"},[_c('span',{staticClass:\"speak-title\"},[_vm._v(_vm._s(_vm.$t('speak.voice')))])]),_c('div',{staticClass:\"icon-down-wrapper\",on:{\"click\":_vm.toggleContent}},[_c('span',{class:{ 'icon-down2': !_vm.ifShowContent, 'icon-up': _vm.ifShowContent }})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifShowContent),expression:\"ifShowContent\"}],staticClass:\"book-detail-content-wrapper\"},[_c('div',{staticClass:\"book-detail-content-list-wrapper\"},[(!this.navigation)?_c('div',{staticClass:\"loading-text-wrapper\"},[_c('span',{staticClass:\"loading-text\"},[_vm._v(_vm._s(_vm.$t('detail.loading')))])]):_vm._e(),_c('div',{staticClass:\"book-detail-content-item-wrapper\"},_vm._l((_vm.flatNavigation),function(item,index){return _c('div',{key:index,staticClass:\"book-detail-content-item\",on:{\"click\":function($event){return _vm.speak(item, index)}}},[(_vm.playingIndex === index)?_c('speak-playing',{ref:\"speakPlaying\",refInFor:true,attrs:{\"number\":5}}):_vm._e(),(item.label)?_c('div',{staticClass:\"book-detail-content-navigation-text\",class:{'is-playing': _vm.playingIndex === index}},[_vm._v(\"\\n              \"+_vm._s(item.label)+\"\\n            \")]):_vm._e()],1)}),0)])]),_c('audio',{ref:\"audio\",on:{\"canplay\":_vm.onCanPlay,\"timeupdate\":_vm.onTimeUpdate,\"ended\":_vm.onAudioEnded}})],1),_c('bottom',{attrs:{\"chapter\":_vm.chapter,\"currentSectionIndex\":_vm.currentSectionIndex,\"currentSectionTotal\":_vm.currentSectionTotal,\"showPlay\":_vm.showPlay,\"isPlaying\":_vm.isPlaying,\"playInfo\":_vm.playInfo,\"bookItem\":_vm.bookItem},on:{\"update:isPlaying\":function($event){_vm.isPlaying=$event},\"update:is-playing\":function($event){_vm.isPlaying=$event},\"onPlayingCardClick\":_vm.onPlayingCardClick}}),_vm._m(0),_c('speak-window',{ref:\"speakWindow\",attrs:{\"title\":this.chapter ? this.chapter.label : '',\"book\":_vm.book,\"section\":_vm.section,\"currentSectionIndex\":_vm.currentSectionIndex,\"currentSectionTotal\":_vm.currentSectionTotal,\"isPlaying\":_vm.isPlaying,\"playInfo\":_vm.playInfo},on:{\"update:currentSectionIndex\":function($event){_vm.currentSectionIndex=$event},\"update:current-section-index\":function($event){_vm.currentSectionIndex=$event},\"update:isPlaying\":function($event){_vm.isPlaying=$event},\"update:is-playing\":function($event){_vm.isPlaying=$event},\"updateText\":_vm.updateText}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-wrapper\"},[_c('div',{attrs:{\"id\":\"read\"}})])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreSpeaking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoreSpeaking.vue?vue&type=template&id=2a77a8da&scoped=true&\"\nimport script from \"./StoreSpeaking.vue?vue&type=script&lang=js&\"\nexport * from \"./StoreSpeaking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StoreSpeaking.vue?vue&type=style&index=0&id=2a77a8da&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a77a8da\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}