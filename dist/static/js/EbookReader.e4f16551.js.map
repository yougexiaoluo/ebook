{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./src/components/EbookReader/EbookReader.vue?3689","webpack:///./src/components/EbookReader/EbookReader.vue?6c41","webpack:///./src/components/EbookReader/EbookReader.vue","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///src/components/EbookReader/EbookReader.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./src/components/EbookReader/EbookReader.vue?5622"],"names":["isRegExp","__webpack_require__","anObject","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","fails","$min","Math","min","$push","push","$SPLIT","LENGTH","LAST_INDEX","MAX_UINT32","SUPPORTS_Y","RegExp","defined","SPLIT","$split","maybeCallNative","internalSplit","separator","limit","string","String","this","undefined","call","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","source","slice","index","apply","test","O","splitter","regexp","res","done","value","rx","S","C","unicodeMatching","lim","length","p","q","A","e","z","i","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","on","click","onMaskClick","touchmove","move","touchend","moveEnd","mousedown","$event","type","indexOf","_k","keyCode","key","button","mouseDown","mousemove","mouseMove","mouseup","mouseUp","staticRenderFns","EbookReader_EbookReadervue_type_script_lang_js_","EbookReadervue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","regExpExec","MATCH","$match","fn","global","fullUnicode","result","n","matchStr","$at","iterated","_t","_i","point","ePub","epubjs__WEBPACK_IMPORTED_MODULE_5__","mounted","_this","books","$route","params","fileName","split","_utils_localForage__WEBPACK_IMPORTED_MODULE_9__","err","blob","setFileName","join","then","initEpub","url","concat","mixins","_utils_mixin_ebookMixin__WEBPACK_IMPORTED_MODULE_6__","methods","_this2","book","setCurrentBook","initRendition","parseBook","ready","locations","generate","window","innerWidth","_utils_localStorage__WEBPACK_IMPORTED_MODULE_8__","navigation","forEach","nav","pagelist","item","loc","href","currentPage","page","setPagelist","setBookAvailable","refreshLocation","prevPage","_this3","rendition","prev","hideTitleAndMenu","nextPage","_this4","next","toggleTitleAndMenu","menuVisible","setSettingVisible","setFontFamilyVisible","setMenuVisible","initFontSize","fontSize","setDefaultFontSize","themes","defaultFontSize","initFontFamily","font","setDefaultFontFamily","defaultFontFamily","initTheme","_this5","defaultTheme","themeList","name","setDefaultTheme","theme","register","style","select","_this6","renderTo","width","height","innerHeight","method","location","display","initGlobalStyle","hooks","content","contents","Promise","all","addStylesheet","initGesture","_this7","event","touchStartX","changedTouches","clientX","startTime","timeStamp","offsetX","time","defaultBehavior","_this8","loaded","cover","archive","createUrl","setCover","metadata","setMetadata","newItem","_utils_book__WEBPACK_IMPORTED_MODULE_7__","toc","find","level","arguments","parent","filter","parentItem","setNavigation","mouseState","offsetY","firstOffsetY","clientY","setOffsetY","mosueStartTime","preventDefault","stopPropagation","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","isObject","cof","module","exports","it","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EbookReader_vue_vue_type_style_index_0_id_c53389e2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EbookReader_vue_vue_type_style_index_0_id_c53389e2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/EbookReader.e4f16551.js","sourcesContent":["'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ebook-reader\"},[_c('div',{attrs:{\"id\":\"read\"}}),_c('div',{staticClass:\"ebook-reader-mask\",on:{\"click\":_vm.onMaskClick,\"touchmove\":_vm.move,\"touchend\":_vm.moveEnd,\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.mouseDown($event)},\"mousemove\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.mouseMove($event)},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.mouseUp($event)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EbookReader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EbookReader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EbookReader.vue?vue&type=template&id=c53389e2&scoped=true&\"\nimport script from \"./EbookReader.vue?vue&type=script&lang=js&\"\nexport * from \"./EbookReader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EbookReader.vue?vue&type=style&index=0&id=c53389e2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c53389e2\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","<template>\r\n  <div class=\"ebook-reader\">\r\n    <div id=\"read\"></div>\r\n    <!-- 借助其它的空标签实现某些功能 -->\r\n    <div class=\"ebook-reader-mask\"\r\n         @click=\"onMaskClick\"\r\n         @touchmove=\"move\"\r\n         @touchend=\"moveEnd\"\r\n         @mousedown.left=\"mouseDown\"\r\n         @mousemove.left=\"mouseMove\"\r\n         @mouseup.left=\"mouseUp\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Epub from 'epubjs'\r\nimport { ebookMixin } from '@/utils/mixin/ebookMixin'\r\nimport { flatent } from '@/utils/book'\r\nimport { getFontFamily,\r\n         saveFontFamily,\r\n         getFontSize,\r\n         saveFontSize,\r\n         getTheme,\r\n         saveTheme,\r\n         getLocation\r\n} from '@/utils/localStorage'\r\nimport { getLocalForage } from '@/utils/localForage'\r\n\r\nglobal.ePub = Epub\r\n\r\nexport default {\r\n  mounted () {\r\n    // 目录名\r\n    let books = this.$route.params.fileName.split('|')\r\n    // 书籍名\r\n    let fileName = books[1]\r\n    getLocalForage(fileName, (err, blob) => {\r\n      if (!err && blob) {\r\n        // 离线缓存中获取书籍\r\n        this.setFileName(books.join('/')).then(() => {\r\n          this.initEpub(blob)\r\n        })\r\n      } else {\r\n        // 获取在线书籍\r\n        this.setFileName(books.join('/')).then(() => {\r\n         let url = `${process.env.VUE_APP_EPUB_URL}/${this.fileName}.epub`\r\n          this.initEpub(url)\r\n        })\r\n      }\r\n    })\r\n  },\r\n  mixins: [ebookMixin],\r\n  methods: {\r\n    // 初始化书籍\r\n    initEpub (url) {\r\n      this.book = new Epub(url)\r\n      this.setCurrentBook(this.book) // 将this.book存储到Vuex中，进行共享\r\n      this.initRendition()\r\n      this.parseBook()\r\n      // 初始化完成后，进行书籍分页\r\n      this.book.ready.then(() => {\r\n        return this.book.locations.generate(750 * (window.innerWidth / 375) * getFontSize(this.fileName) / 16)\r\n      }).then(locations => {\r\n        this.navigation.forEach(nav => {\r\n          nav.pagelist = []\r\n        })\r\n        locations.forEach(item => {\r\n          const loc = item.match(/\\[(.*)\\]!/)[1]\r\n          this.navigation.forEach(nav => {\r\n            // 判断nav对象中是否存在href属性\r\n            if (nav.href) {\r\n              const href = nav.href.match(/^(.*)\\.html$/)\r\n              if (href) {\r\n                if (href[1] === loc) {\r\n                  nav.pagelist.push(item)\r\n                }\r\n              }\r\n            }\r\n          })\r\n          let currentPage = 1\r\n          this.navigation.forEach((nav, index) => {\r\n            if (index === 0) {\r\n              nav.page = 1\r\n            } else {\r\n              nav.page = currentPage\r\n            }\r\n            currentPage += nav.pagelist.length + 1\r\n          })\r\n        })\r\n        // 保存分页数据到Vuex\r\n        this.setPagelist(locations)\r\n        this.setBookAvailable(true)\r\n        this.refreshLocation() // 重新回去进度，分页未完成的时候获取progress为null\r\n      })\r\n    },\r\n    // 上一页\r\n    prevPage () {\r\n      if (this.rendition) {\r\n        this.rendition.prev().then(() => {\r\n          this.refreshLocation()\r\n        })\r\n        this.hideTitleAndMenu()\r\n      }\r\n    },\r\n    // 下一页\r\n    nextPage () {\r\n      if (this.rendition) {\r\n        this.rendition.next().then(() => {\r\n          this.refreshLocation()\r\n        })\r\n        this.hideTitleAndMenu()\r\n      }\r\n    },\r\n    // 显示标题、menu 导航\r\n    toggleTitleAndMenu () {\r\n      if (this.menuVisible) {\r\n        this.setSettingVisible(-1)\r\n        this.setFontFamilyVisible(false)\r\n      }\r\n      // this.$store.dispatch('setMenuVisible', !this.menuVisible)\r\n      this.setMenuVisible(!this.menuVisible)\r\n    },\r\n    // 初始化数据\r\n    initFontSize () {\r\n      let fontSize = getFontSize(this.fileName)\r\n      if (!fontSize) {\r\n        saveFontSize(this.fileName, this.defaultFontSize)\r\n      } else {\r\n        this.setDefaultFontSize(fontSize)\r\n        this.rendition.themes.fontSize(fontSize)\r\n      }\r\n    },\r\n    initFontFamily () {\r\n      let font = getFontFamily(this.fileName)\r\n\r\n      if (!font) {\r\n        saveFontFamily(this.fileName, this.defaultFontFamily)\r\n      } else {\r\n        this.rendition.themes.font(font)\r\n        this.setDefaultFontFamily(font)\r\n      }\r\n    },\r\n    initTheme () {\r\n      // 从本地中获取主题\r\n      let defaultTheme = getTheme(this.fileName)\r\n\r\n      if (!defaultTheme) {\r\n        defaultTheme = this.themeList[0].name\r\n        saveTheme(this.fileName, defaultTheme)\r\n      }\r\n      this.setDefaultTheme(defaultTheme)\r\n      // 注册主题\r\n      this.themeList.forEach(theme => {\r\n        this.rendition.themes.register(theme.name, theme.style)\r\n      })\r\n      // 选择默认主题\r\n      this.rendition.themes.select(defaultTheme)\r\n    },\r\n    // 初始化rendition\r\n    initRendition () {\r\n      // 创建rendition对象\r\n      this.rendition = this.book.renderTo('read', {\r\n        width: innerWidth,\r\n        height: innerHeight,\r\n        method: 'default' // 兼容微信\r\n      })\r\n      // 开始渲染电子书\r\n      const location = getLocation(this.fileName) // 从本地localstorage中获取数据\r\n      this.display(location, () => {\r\n        this.initTheme()\r\n        this.initFontFamily()\r\n        this.initFontSize()\r\n        this.initGlobalStyle()\r\n        // this.refreshLocation()\r\n      })\r\n      // 渲染完成，并且可以获取内容的时候\r\n      this.rendition.hooks.content.register(contents => {\r\n        // 需要传入的是url地址\r\n        Promise.all([\r\n          // 使用环境变量，为了解决上产品线之后，当用户预览时静态嵌入客户端中\r\n          contents.addStylesheet(`${process.env.VUE_APP_RES_URL}/fonts/family/cabin.css`),\r\n          contents.addStylesheet(`${process.env.VUE_APP_RES_URL}/fonts/family/daysOne.css`),\r\n          contents.addStylesheet(`${process.env.VUE_APP_RES_URL}/fonts/family/montserrat.css`),\r\n          contents.addStylesheet(`${process.env.VUE_APP_RES_URL}/fonts/family/tangerine.css`)\r\n        ]).then(() => {\r\n          // 字体加载完成之后执行的逻辑\r\n        })\r\n      })\r\n    },\r\n    // 手势操作(判断左滑、右滑)\r\n    initGesture () {\r\n      this.rendition.on('touchstart', event => {\r\n        this.touchStartX = event.changedTouches[0].clientX\r\n        this.startTime = event.timeStamp\r\n      })\r\n      this.rendition.on('touchend', event => {\r\n        // 计算滑动位置、以及滑动时间\r\n        const offsetX = event.changedTouches[0].clientX - this.touchStartX\r\n        const time = event.timeStamp - this.startTime\r\n        // 限制条件\r\n        if (time < 500 && offsetX > 40) {\r\n          this.prevPage()\r\n        } else if (time < 500 && offsetX < -40) {\r\n          this.nextPage()\r\n        } else {\r\n          this.toggleTitleAndMenu()\r\n        }\r\n        this.defaultBehavior(event)\r\n      })\r\n    },\r\n    // 解析电子书\r\n    parseBook () {\r\n      /**\r\n       * 需求：\r\n       *    1. 获取书籍封面\r\n       *    2. 获取标题、作者信息\r\n       *    3. 获取目录\r\n      */\r\n      // 1\r\n      this.book.loaded.cover.then(cover => {\r\n        this.book.archive.createUrl(cover).then(url => {\r\n          this.setCover(url)\r\n        })\r\n      })\r\n      // 2\r\n      this.book.loaded.metadata.then(metadata => {\r\n        this.setMetadata(metadata)\r\n      })\r\n      // 3\r\n      this.book.loaded.navigation.then(navigation => {\r\n        let newItem = flatent(navigation.toc)\r\n\r\n        // 查询是否有子目录(使用递归的方式取查询)\r\n        function find (item, level = 0) {\r\n          if (!item.parent) {\r\n            return level\r\n          } else {\r\n            return find(newItem.filter(parentItem => parentItem.id === item.parent)[0], ++level)\r\n          }\r\n        }\r\n        // 添加level字段, 用于区分是否存在子目录\r\n        newItem.forEach((item, i) => {\r\n          item.level = find(item)\r\n        })\r\n        this.setNavigation(newItem)\r\n      })\r\n    },\r\n    // 注册事件，实现其它逻辑\r\n    onMaskClick (event) {\r\n      if (this.mouseState && (this.mouseState === 2 || this.mouseState === 3)) {\r\n        return\r\n      }\r\n      const offsetX = event.offsetX\r\n      const width = window.innerWidth\r\n      if (offsetX > 0 && offsetX < width * 0.3) {\r\n        this.prevPage()\r\n      } else if (offsetX > 0 && offsetX > width * 0.7) {\r\n        this.nextPage()\r\n      } else {\r\n        this.toggleTitleAndMenu()\r\n      }\r\n    },\r\n    move (event) {\r\n      let offsetY = 0\r\n      if (this.firstOffsetY) {\r\n        offsetY = event.changedTouches[0].clientY - this.firstOffsetY\r\n        this.setOffsetY(offsetY)\r\n        // 解决设备上下拉造成整体下拉的问题\r\n        this.defaultBehavior(event)\r\n      } else {\r\n        this.firstOffsetY = event.changedTouches[0].clientY\r\n      }\r\n    },\r\n    // 触控结束，重置坐标位置\r\n    moveEnd (event) {\r\n      this.firstOffsetY = 0\r\n      this.setOffsetY(0)\r\n    },\r\n    // 兼容pc端事件 -- 区分状态\r\n    // 1 - 鼠标进入\r\n    // 2 - 鼠标进入后移动\r\n    // 3 - 鼠标从移动转态松手\r\n    // 4 - 鼠标还原\r\n    mouseDown (event) {\r\n      this.mouseState = 1\r\n      this.mosueStartTime = event.timeStamp\r\n      this.defaultBehavior(event)\r\n    },\r\n    mouseMove (event) {\r\n      if (this.mouseState === 1) {\r\n        this.mouseState = 2\r\n      } else if (this.mouseState === 2) {\r\n        let offsetY = 0\r\n        if (this.firstOffsetY) {\r\n          offsetY = event.clientY - this.firstOffsetY\r\n          this.setOffsetY(offsetY)\r\n        } else {\r\n          this.firstOffsetY = event.clientY\r\n        }\r\n      }\r\n      this.defaultBehavior(event)\r\n    },\r\n    mouseUp (event) {\r\n      if (this.mouseState === 2) {\r\n        this.firstOffsetY = null\r\n        this.setOffsetY(0)\r\n        this.mouseState = 3\r\n      } else {\r\n        this.mouseState = 4\r\n      }\r\n      let time = event.timeStamp - this.mosueStartTime\r\n      // 解决点击有手抖的而不能触发事件的情况(使用时间戳进行判断)\r\n      if (time < 100) {\r\n        this.mouseState = 4\r\n      }\r\n      this.defaultBehavior(event)\r\n    },\r\n    // 阻止事件默认行为\r\n    defaultBehavior (e) {\r\n      // 阻止事件冒泡、浏览器默认行为\r\n      e.preventDefault() // 这里epubjs会带来版本问题\r\n      e.stopPropagation()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import '@/assets/styles/scss/global.scss';\r\n\r\n  .ebook-reader {\r\n    width: 100%;\r\n    height: 100%;\r\n    .ebook-reader-mask {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 150;\r\n      width: 100%;\r\n      height: 100%;\r\n      background: transparent;\r\n    }\r\n  }\r\n</style>\r\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EbookReader.vue?vue&type=style&index=0&id=c53389e2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EbookReader.vue?vue&type=style&index=0&id=c53389e2&lang=scss&scoped=true&\""],"sourceRoot":""}